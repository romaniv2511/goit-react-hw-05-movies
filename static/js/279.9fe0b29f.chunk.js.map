{"version":3,"file":"static/js/279.9fe0b29f.chunk.js","mappings":"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","sources":["pages/MovieDetails/MovieDetails.styles.jsx","pages/MovieDetails/MovieDetails.jsx","services/API.jsx","services/notification.jsx"],"sourcesContent":["import styled from 'styled-components';\nimport { NavLink, Link } from 'react-router-dom';\n\nexport const GoBackButton = styled(Link)`\n  display: inline-block;\n  margin-left: 20px;\n  margin-bottom: 20px;\n  border: 2px solid rgb(85, 26, 139);\n  padding: 4px 16px;\n  border-radius: 4px;\n  color: rgb(85, 26, 139);\n  background-color: #ffffff;\n\n  text-decoration: none;\n`;\n\nexport const PrimaryInfoBox = styled.div`\n  display: flex;\n  gap: 20px;\n  padding: 0 20px;\n`;\nexport const ExtraInfoBox = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  margin-top: 20px;\n  padding: 0 20px;\n`;\nexport const ExtraInfoList = styled.ul`\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  padding: 0;\n  list-style: none;\n`;\n\nexport const ExtraInfoLink = styled(NavLink)`\n  display: block;\n  padding: 4px 16px;\n  border-radius: 4px;\n  color: #ffffff;\n  background-color: rgb(85, 26, 139);\n  text-decoration: none;\n\n  cursor: pointer;\n\n  &:hover,\n  &:focus {\n    background-color: rgba(85, 26, 139, 0.7);\n  }\n  &.active {\n    border: 2px solid rgb(85, 26, 139);\n    color: rgb(85, 26, 139);\n    background-color: #ffffff;\n  }\n`;\n","import { useState, useEffect, Suspense } from 'react';\nimport { Outlet, useParams, useLocation } from 'react-router-dom';\nimport { fetchFilmById } from '../../services/API';\nimport {\n  GoBackButton,\n  PrimaryInfoBox,\n  ExtraInfoBox,\n  ExtraInfoList,\n  ExtraInfoLink,\n} from './MovieDetails.styles';\nimport { Loader } from 'components/Loader/Loader';\nimport { noticeError } from 'services/notification';\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n  const [movieDetails, setMovieDetails] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const currentLocation = useLocation().state?.from ?? '/';\n\n  useEffect(() => {\n    setIsLoading(true);\n\n    fetchFilmById(movieId)\n      .then(movieDetails => {\n        setMovieDetails(movieDetails);\n      })\n      .catch(error => {\n        noticeError('Oops, something wrong!');\n        console.log(error.message);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }, [movieId]);\n\n  if (isLoading) return <Loader />;\n\n  if (movieDetails) {\n    const { title, userScore, overview, genres, posterUrl } = movieDetails;\n    return (\n      <>\n        <GoBackButton to={currentLocation}>&#129104; Go back</GoBackButton>\n        <PrimaryInfoBox>\n          <img alt=\"poster\" src={posterUrl} width=\"200\" height=\"300\" />\n          <div>\n            <h1>{title}</h1>\n            <p>\n              <b>User score:</b> {userScore} %\n            </p>\n            <h2>Overview</h2>\n            <p>{overview}</p>\n            <h2>Genres</h2>\n            <p>{genres}</p>\n          </div>\n        </PrimaryInfoBox>\n        <ExtraInfoBox>\n          <h3>Additional information</h3>\n          <ExtraInfoList>\n            <li>\n              <ExtraInfoLink to=\"cast\" state={{ from: currentLocation }}>\n                Cast\n              </ExtraInfoLink>\n            </li>\n            <li>\n              <ExtraInfoLink to=\"reviews\" state={{ from: currentLocation }}>\n                Reviews\n              </ExtraInfoLink>\n            </li>\n          </ExtraInfoList>\n          <Suspense fallback={<Loader />}>\n            <Outlet />\n          </Suspense>\n        </ExtraInfoBox>\n      </>\n    );\n  }\n};\n\nexport default MovieDetails;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org';\nconst AUTH_KEY = '234e7b4c27db682739301b8b46dc0452';\n\nexport const fetchTrendingFilms = async () => {\n  const { data } = await axios.get(`/3/trending/movie/day?api_key=${AUTH_KEY}`);\n  const films = data.results.map(item => ({\n    id: item.id,\n    title: item.title,\n  }));\n\n  return films;\n};\n\nexport const fetchFilmsByName = async name => {\n  const { data } = await axios.get(\n    `/3/search/movie?api_key=${AUTH_KEY}&query=${name}`\n  );\n  const films = data.results.map(item => ({\n    id: item.id,\n    title: item.title,\n  }));\n\n  return films;\n};\n\nexport const fetchFilmById = async movieId => {\n  const { data } = await axios.get(`/3/movie/${movieId}?api_key=${AUTH_KEY}`);\n  const { poster_path, title, vote_average, overview, genres } = data;\n  const movieDetails = {\n    title,\n    userScore: (vote_average * 10).toFixed(2),\n    overview,\n    genres: genres.map(({ name }) => name).join(', '),\n    posterUrl: !poster_path\n      ? 'https://cdn.pixabay.com/photo/2016/03/31/17/54/cartoon-1293990_960_720.png'\n      : `https://image.tmdb.org/t/p/w500/${poster_path}`,\n  };\n\n  return movieDetails;\n};\n\nexport const fetchReviews = async movieId => {\n  const { data } = await axios.get(\n    `/3/movie/${movieId}/reviews?api_key=${AUTH_KEY}`\n  );\n  const reviews = data.results.map(({ id, author, content }) => ({\n    id,\n    author,\n    content,\n  }));\n  return reviews;\n};\n\nexport const fetchCast = async movieId => {\n  const { data } = await axios.get(\n    `/3/movie/${movieId}/credits?api_key=${AUTH_KEY}`\n  );\n  const cast = data.cast.map(({ id, name, character, profile_path }) => ({\n    id,\n    name,\n    character,\n    profileUrl: !profile_path\n      ? 'https://cdn.pixabay.com/photo/2016/03/31/17/54/cartoon-1293990_960_720.png'\n      : `https://image.tmdb.org/t/p/w500/${profile_path}`,\n  }));\n  return cast;\n};\n","import { toast } from 'react-toastify';\n\nconst options = {\n  position: 'top-center',\n  autoClose: 7000,\n  hideProgressBar: false,\n  closeOnClick: true,\n  pauseOnHover: true,\n  draggable: true,\n  progress: undefined,\n  theme: 'colored',\n};\n\nexport const noticeError = message => toast.error(message, options);\nexport const noticeInfo = message => toast(message, options);\nexport const noticeSuccess = message => toast.success(message, options);\n"],"names":["GoBackButton","styled","Link","PrimaryInfoBox","ExtraInfoBox","ExtraInfoList","ExtraInfoLink","NavLink","movieId","useParams","useState","movieDetails","setMovieDetails","isLoading","setIsLoading","currentLocation","useLocation","state","from","useEffect","fetchFilmById","then","catch","error","noticeError","console","log","message","finally","Loader","title","userScore","overview","genres","posterUrl","to","alt","src","width","height","Suspense","fallback","axios","AUTH_KEY","fetchTrendingFilms","data","films","results","map","item","id","fetchFilmsByName","name","poster_path","vote_average","toFixed","join","fetchReviews","reviews","author","content","fetchCast","cast","character","profile_path","profileUrl","options","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme","toast"],"sourceRoot":""}