"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[279],{8279:function(n,r,e){e.r(r),e.d(r,{default:function(){return Z}});var t,o,a,i,c,s=e(885),u=e(2791),p=e(7689),d=e(6611),l=e(168),f=e(6444),h=e(1087),x=(0,f.ZP)(h.rU)(t||(t=(0,l.Z)(["\n  display: inline-block;\n  margin-left: 20px;\n  margin-bottom: 20px;\n  border: 2px solid rgb(85, 26, 139);\n  padding: 4px 16px;\n  border-radius: 4px;\n  color: rgb(85, 26, 139);\n  background-color: #ffffff;\n\n  text-decoration: none;\n"]))),v=f.ZP.div(o||(o=(0,l.Z)(["\n  display: flex;\n  gap: 20px;\n  padding: 0 20px;\n"]))),g=f.ZP.div(a||(a=(0,l.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  margin-top: 20px;\n  padding: 0 20px;\n"]))),m=f.ZP.ul(i||(i=(0,l.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  padding: 0;\n  list-style: none;\n"]))),b=(0,f.ZP)(h.OL)(c||(c=(0,l.Z)(["\n  display: block;\n  padding: 4px 16px;\n  border-radius: 4px;\n  color: #ffffff;\n  background-color: rgb(85, 26, 139);\n  text-decoration: none;\n\n  cursor: pointer;\n\n  &:hover,\n  &:focus {\n    background-color: rgba(85, 26, 139, 0.7);\n  }\n  &.active {\n    border: 2px solid rgb(85, 26, 139);\n    color: rgb(85, 26, 139);\n    background-color: #ffffff;\n  }\n"]))),j=e(4401),k=e(9186),w=e(184),Z=function(){var n,r,e=(0,p.UO)().movieId,t=(0,u.useState)(null),o=(0,s.Z)(t,2),a=o[0],i=o[1],c=(0,u.useState)(!1),l=(0,s.Z)(c,2),f=l[0],h=l[1],Z=null!==(n=null===(r=(0,p.TH)().state)||void 0===r?void 0:r.from)&&void 0!==n?n:"/";if((0,u.useEffect)((function(){h(!0),(0,d.VQ)(e).then((function(n){i(n)})).catch((function(n){(0,k.Nd)("Oops, something wrong!"),console.log(n.message)})).finally((function(){h(!1)}))}),[e]),f)return(0,w.jsx)(j.a,{});if(a){var y=a.title,_=a.userScore,P=a.overview,U=a.genres,O=a.posterUrl;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(x,{to:Z,children:"\ud83e\udc50 Go back"}),(0,w.jsxs)(v,{children:[(0,w.jsx)("img",{alt:"poster",src:O,width:"200",height:"300"}),(0,w.jsxs)("div",{children:[(0,w.jsx)("h1",{children:y}),(0,w.jsxs)("p",{children:[(0,w.jsx)("b",{children:"User score:"})," ",_," %"]}),(0,w.jsx)("h2",{children:"Overview"}),(0,w.jsx)("p",{children:P}),(0,w.jsx)("h2",{children:"Genres"}),(0,w.jsx)("p",{children:U})]})]}),(0,w.jsxs)(g,{children:[(0,w.jsx)("h3",{children:"Additional information"}),(0,w.jsxs)(m,{children:[(0,w.jsx)("li",{children:(0,w.jsx)(b,{to:"cast",state:{from:Z},children:"Cast"})}),(0,w.jsx)("li",{children:(0,w.jsx)(b,{to:"reviews",state:{from:Z},children:"Reviews"})})]}),(0,w.jsx)(u.Suspense,{fallback:(0,w.jsx)(j.a,{}),children:(0,w.jsx)(p.j3,{})})]})]})}}},6611:function(n,r,e){e.d(r,{Bt:function(){return d},KS:function(){return s},Pd:function(){return u},VQ:function(){return p},y:function(){return l}});var t=e(5861),o=e(7757),a=e.n(o),i=e(2388);i.Z.defaults.baseURL="https://api.themoviedb.org";var c="234e7b4c27db682739301b8b46dc0452",s=function(){var n=(0,t.Z)(a().mark((function n(){var r,e,t;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.Z.get("/3/trending/movie/day?api_key=".concat(c));case 2:return r=n.sent,e=r.data,t=e.results.map((function(n){return{id:n.id,title:n.title}})),n.abrupt("return",t);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),u=function(){var n=(0,t.Z)(a().mark((function n(r){var e,t,o;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.Z.get("/3/search/movie?api_key=".concat(c,"&query=").concat(r));case 2:return e=n.sent,t=e.data,o=t.results.map((function(n){return{id:n.id,title:n.title}})),n.abrupt("return",o);case 6:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}(),p=function(){var n=(0,t.Z)(a().mark((function n(r){var e,t,o,s,u,p,d,l;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.Z.get("/3/movie/".concat(r,"?api_key=").concat(c));case 2:return e=n.sent,t=e.data,o=t.poster_path,s=t.title,u=t.vote_average,p=t.overview,d=t.genres,l={title:s,userScore:(10*u).toFixed(2),overview:p,genres:d.map((function(n){return n.name})).join(", "),posterUrl:o?"https://image.tmdb.org/t/p/w500/".concat(o):"https://cdn.pixabay.com/photo/2016/03/31/17/54/cartoon-1293990_960_720.png"},n.abrupt("return",l);case 7:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}(),d=function(){var n=(0,t.Z)(a().mark((function n(r){var e,t,o;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.Z.get("/3/movie/".concat(r,"/reviews?api_key=").concat(c));case 2:return e=n.sent,t=e.data,o=t.results.map((function(n){return{id:n.id,author:n.author,content:n.content}})),n.abrupt("return",o);case 6:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}(),l=function(){var n=(0,t.Z)(a().mark((function n(r){var e,t,o;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.Z.get("/3/movie/".concat(r,"/credits?api_key=").concat(c));case 2:return e=n.sent,t=e.data,o=t.cast.map((function(n){var r=n.id,e=n.name,t=n.character,o=n.profile_path;return{id:r,name:e,character:t,profileUrl:o?"https://image.tmdb.org/t/p/w500/".concat(o):"https://cdn.pixabay.com/photo/2016/03/31/17/54/cartoon-1293990_960_720.png"}})),n.abrupt("return",o);case 6:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}()},9186:function(n,r,e){e.d(r,{Nd:function(){return a}});var t=e(9085),o={position:"top-center",autoClose:7e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"},a=function(n){return t.Am.error(n,o)}}}]);
//# sourceMappingURL=279.9fe0b29f.chunk.js.map