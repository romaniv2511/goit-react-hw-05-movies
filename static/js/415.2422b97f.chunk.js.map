{"version":3,"file":"static/js/415.2422b97f.chunk.js","mappings":"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","sources":["components/MoviesList/MoviesList.styles.jsx","components/MoviesList/MoviesList.jsx","pages/Home.jsx","services/API.jsx","services/notification.jsx"],"sourcesContent":["import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nexport const FilmsList = styled.ul`\n  display: grid;\n  grid-gap: 4px;\n  margin-top: 20px;\n`;\n\nexport const FilmLink = styled(Link)`\n  color: #000;\n  font-weight: 500;\n  text-decoration: none;\n  &:hover,\n  &:focus {\n    color: rgba(85, 26, 139, 0.7);\n  }\n  &:visited {\n    color: rgb(85, 26, 139);\n  }\n`;\n","import PropTypes from 'prop-types';\nimport { useLocation } from 'react-router-dom';\n\nimport { FilmsList, FilmLink } from './MoviesList.styles';\n\nexport const MoviesList = ({ films }) => {\n  const location = useLocation();\n\n  return (\n    <FilmsList>\n      {films.map(({ id, title }) => (\n        <li key={id}>\n          <FilmLink to={`/movies/${id}`} state={{ from: location }}>\n            {title}\n          </FilmLink>\n        </li>\n      ))}\n    </FilmsList>\n  );\n};\n\nMoviesList.propTypes = {\n  films: PropTypes.arrayOf(\n    PropTypes.exact({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n    })\n  ).isRequired,\n};\n","import { useState, useEffect } from 'react';\nimport { fetchTrendingFilms } from 'services/API';\nimport { MoviesList } from 'components/MoviesList/MoviesList';\nimport { Loader } from 'components/Loader/Loader';\nimport { noticeError } from 'services/notification';\n\nconst Home = () => {\n  const [films, setFilms] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    setIsLoading(true);\n\n    fetchTrendingFilms()\n      .then(data => setFilms(data))\n      .catch(error => {\n        noticeError('Oops, something wrong!');\n        console.log(error.message);\n      })\n      .finally(() => setIsLoading(false));\n  }, []);\n\n  return (\n    <>\n      {isLoading && <Loader />}\n\n      {films.length > 0 && <MoviesList films={films} />}\n    </>\n  );\n};\n\nexport default Home;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org';\nconst AUTH_KEY = '234e7b4c27db682739301b8b46dc0452';\n\nexport const fetchTrendingFilms = async () => {\n  const { data } = await axios.get(`/3/trending/movie/day?api_key=${AUTH_KEY}`);\n  const films = data.results.map(item => ({\n    id: item.id,\n    title: item.title,\n  }));\n\n  return films;\n};\n\nexport const fetchFilmsByName = async name => {\n  const { data } = await axios.get(\n    `/3/search/movie?api_key=${AUTH_KEY}&query=${name}`\n  );\n  const films = data.results.map(item => ({\n    id: item.id,\n    title: item.title,\n  }));\n\n  return films;\n};\n\nexport const fetchFilmById = async movieId => {\n  const { data } = await axios.get(`/3/movie/${movieId}?api_key=${AUTH_KEY}`);\n  const { poster_path, title, vote_average, overview, genres } = data;\n  const movieDetails = {\n    title,\n    userScore: (vote_average * 10).toFixed(2),\n    overview,\n    genres: genres.map(({ name }) => name).join(', '),\n    posterUrl: !poster_path\n      ? 'https://cdn.pixabay.com/photo/2016/03/31/17/54/cartoon-1293990_960_720.png'\n      : `https://image.tmdb.org/t/p/w500/${poster_path}`,\n  };\n\n  return movieDetails;\n};\n\nexport const fetchReviews = async movieId => {\n  const { data } = await axios.get(\n    `/3/movie/${movieId}/reviews?api_key=${AUTH_KEY}`\n  );\n  const reviews = data.results.map(({ id, author, content }) => ({\n    id,\n    author,\n    content,\n  }));\n  return reviews;\n};\n\nexport const fetchCast = async movieId => {\n  const { data } = await axios.get(\n    `/3/movie/${movieId}/credits?api_key=${AUTH_KEY}`\n  );\n  const cast = data.cast.map(({ id, name, character, profile_path }) => ({\n    id,\n    name,\n    character,\n    profileUrl: !profile_path\n      ? 'https://cdn.pixabay.com/photo/2016/03/31/17/54/cartoon-1293990_960_720.png'\n      : `https://image.tmdb.org/t/p/w500/${profile_path}`,\n  }));\n  return cast;\n};\n","import { toast } from 'react-toastify';\n\nconst options = {\n  position: 'top-center',\n  autoClose: 7000,\n  hideProgressBar: false,\n  closeOnClick: true,\n  pauseOnHover: true,\n  draggable: true,\n  progress: undefined,\n  theme: 'colored',\n};\n\nexport const noticeError = message => toast.error(message, options);\nexport const noticeInfo = message => toast(message, options);\nexport const noticeSuccess = message => toast.success(message, options);\n"],"names":["FilmsList","styled","FilmLink","Link","MoviesList","films","location","useLocation","map","id","title","to","state","from","useState","setFilms","isLoading","setIsLoading","useEffect","fetchTrendingFilms","then","data","catch","error","noticeError","console","log","message","finally","length","axios","AUTH_KEY","results","item","fetchFilmsByName","name","fetchFilmById","movieId","poster_path","vote_average","overview","genres","movieDetails","userScore","toFixed","join","posterUrl","fetchReviews","reviews","author","content","fetchCast","cast","character","profile_path","profileUrl","options","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme","toast"],"sourceRoot":""}