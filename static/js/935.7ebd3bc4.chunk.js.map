{"version":3,"file":"static/js/935.7ebd3bc4.chunk.js","mappings":"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","sources":["components/Cast/Cast.styles.jsx","components/Cast/Cast.jsx","services/API.jsx","services/notification.jsx"],"sourcesContent":["import styled from 'styled-components';\n\nexport const CastList = styled.ul`\n  display: flex;\n  flex-wrap: wrap;\n  align-items: baseline;\n  gap: 20px;\n  list-style: none;\n`;\n\nexport const CastItem = styled.li`\n  width: calc((100% - 100px) / 6);\n`;\n","import { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { noticeError } from 'services/notification';\nimport { fetchCast } from 'services/API';\nimport { CastList, CastItem } from './Cast.styles';\nimport { Loader } from 'components/Loader/Loader';\n\nconst Cast = () => {\n  const { movieId } = useParams();\n  const [cast, setCast] = useState([]);\n  const [fetchStatus, setFetchStatus] = useState('idle');\n\n  useEffect(() => {\n    setFetchStatus('pending');\n\n    fetchCast(movieId)\n      .then(cast => {\n        if (!cast.length) {\n          setFetchStatus('error');\n          return;\n        }\n        setCast(cast);\n        setFetchStatus('success');\n      })\n      .catch(error => {\n        console.log(error);\n        noticeError('Oops, something wrong!');\n      });\n  }, [movieId]);\n\n  if (fetchStatus === 'pending') return <Loader />;\n\n  if (fetchStatus === 'error') return <p>Have no information</p>;\n\n  if (fetchStatus === 'success')\n    return (\n      <CastList>\n        {cast.map(({ id, name, character, profileUrl }) => {\n          return (\n            <CastItem key={id}>\n              <img src={profileUrl} alt={name} width=\"200\" />\n              <p>{name}</p>\n              <p>Character: {character}</p>\n            </CastItem>\n          );\n        })}\n      </CastList>\n    );\n};\n\nexport default Cast;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org';\nconst AUTH_KEY = '234e7b4c27db682739301b8b46dc0452';\n\nexport const fetchTrendingFilms = async () => {\n  const { data } = await axios.get(`/3/trending/movie/day?api_key=${AUTH_KEY}`);\n  const films = data.results.map(item => ({\n    id: item.id,\n    title: item.title,\n  }));\n\n  return films;\n};\n\nexport const fetchFilmsByName = async name => {\n  const { data } = await axios.get(\n    `/3/search/movie?api_key=${AUTH_KEY}&query=${name}`\n  );\n  const films = data.results.map(item => ({\n    id: item.id,\n    title: item.title,\n  }));\n\n  return films;\n};\n\nexport const fetchFilmById = async movieId => {\n  const { data } = await axios.get(`/3/movie/${movieId}?api_key=${AUTH_KEY}`);\n  const { poster_path, title, vote_average, overview, genres } = data;\n  const movieDetails = {\n    title,\n    userScore: (vote_average * 10).toFixed(2),\n    overview,\n    genres: genres.map(({ name }) => name).join(', '),\n    posterUrl: !poster_path\n      ? 'https://cdn.pixabay.com/photo/2016/03/31/17/54/cartoon-1293990_960_720.png'\n      : `https://image.tmdb.org/t/p/w500/${poster_path}`,\n  };\n\n  return movieDetails;\n};\n\nexport const fetchReviews = async movieId => {\n  const { data } = await axios.get(\n    `/3/movie/${movieId}/reviews?api_key=${AUTH_KEY}`\n  );\n  const reviews = data.results.map(({ id, author, content }) => ({\n    id,\n    author,\n    content,\n  }));\n  return reviews;\n};\n\nexport const fetchCast = async movieId => {\n  const { data } = await axios.get(\n    `/3/movie/${movieId}/credits?api_key=${AUTH_KEY}`\n  );\n  const cast = data.cast.map(({ id, name, character, profile_path }) => ({\n    id,\n    name,\n    character,\n    profileUrl: !profile_path\n      ? 'https://cdn.pixabay.com/photo/2016/03/31/17/54/cartoon-1293990_960_720.png'\n      : `https://image.tmdb.org/t/p/w500/${profile_path}`,\n  }));\n  return cast;\n};\n","import { toast } from 'react-toastify';\n\nconst options = {\n  position: 'top-center',\n  autoClose: 7000,\n  hideProgressBar: false,\n  closeOnClick: true,\n  pauseOnHover: true,\n  draggable: true,\n  progress: undefined,\n  theme: 'colored',\n};\n\nexport const noticeError = message => toast.error(message, options);\nexport const noticeInfo = message => toast(message, options);\nexport const noticeSuccess = message => toast.success(message, options);\n"],"names":["CastList","styled","CastItem","movieId","useParams","useState","cast","setCast","fetchStatus","setFetchStatus","useEffect","fetchCast","then","length","catch","error","console","log","noticeError","Loader","map","id","name","character","profileUrl","src","alt","width","axios","AUTH_KEY","fetchTrendingFilms","data","films","results","item","title","fetchFilmsByName","fetchFilmById","poster_path","vote_average","overview","genres","movieDetails","userScore","toFixed","join","posterUrl","fetchReviews","reviews","author","content","profile_path","options","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme","message","toast"],"sourceRoot":""}